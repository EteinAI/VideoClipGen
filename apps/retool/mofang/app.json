{"uuid":"68054a3a-cfe0-11ed-af52-0bb7575a3c41","page":{"id":140571644,"data":{"appState":"[\"~#iR\",[\"^ \",\"n\",\"appTemplate\",\"v\",[\"^ \",\"isFetching\",false,\"plugins\",[\"~#iOM\",[\"endpoint\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"endpoint\",\"type\",\"state\",\"subtype\",\"State\",\"namespace\",null,\"resourceName\",null,\"resourceDisplayName\",null,\"template\",[\"^3\",[\"_persistedValueGetter\",null,\"_persistedValueSetter\",null,\"persistValue\",false,\"persistedValueKey\",\"\",\"value\",\"vcg.cybery.tech\"]],\"style\",null,\"position2\",null,\"mobilePosition2\",null,\"mobileAppPosition\",null,\"tabIndex\",null,\"container\",\"\",\"createdAt\",\"~m1680446354948\",\"updatedAt\",\"~m1680446382793\",\"folder\",\"\",\"screen\",null]]],\"assetDomain\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"assetDomain\",\"^4\",\"state\",\"^5\",\"State\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"_persistedValueGetter\",null,\"_persistedValueSetter\",null,\"persistValue\",false,\"persistedValueKey\",\"\",\"value\",\"www.tech.mfyyx.com\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680279686060\",\"^A\",\"~m1680280151047\",\"^B\",\"\",\"^C\",null]]],\"ns\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"ns\",\"^4\",\"state\",\"^5\",\"State\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"_persistedValueGetter\",null,\"_persistedValueSetter\",null,\"persistValue\",false,\"persistedValueKey\",\"\",\"value\",\"default\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679889932596\",\"^A\",\"~m1680094708046\",\"^B\",\"\",\"^C\",null]]],\"start_workflow\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"start_workflow\",\"^4\",\"datasource\",\"^5\",\"RESTQuery\",\"^6\",null,\"^7\",\"REST-WithoutResource\",\"^8\",null,\"^9\",[\"^3\",[\"queryRefreshTime\",\"\",\"paginationLimit\",\"\",\"body\",\"{{\\n{\\n  workflowType: {\\n    name: 'VideoClipGen',\\n  },\\n  taskQueue: {\\n    name: 'vcg',\\n    kind: 'Normal',\\n  },\\n  input: {\\n    payloads: [{\\n      metadata: {\\n        encoding: btoa('json/plain'),\\n      },\\n      data: btoa(JSON.stringify({\\n        url: url_weixin.value,\\n        prompter: 'ScenePrompter',\\n        'voice_ali': sel_voice.value,\\n      })),\\n    }],\\n  },\\n  identity: 'retool',\\n  requestId: uuid.v4(),\\n  workflowExecutionTimeout: '600s',\\n  workflowRunTimeout: '660s',\\n  workflowTaskTimeout: '300s',\\n  workflowIdReusePolicy: 'AllowDuplicate',\\n}\\n}}\",\"lastReceivedFromResourceAt\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"paginationPaginationField\",\"\",\"headers\",\"[{\\\"key\\\":\\\"Authorization\\\",\\\"value\\\":\\\"Bearer FnvtyDWk1AqB7Sord8QjcRbY670BSXBycLu281mQsvFyvjD2Tw0hFyyXSztGTflp\\\"},{\\\"key\\\":\\\"Content-Type\\\",\\\"value\\\":\\\"application/json\\\"}]\",\"showFailureToaster\",true,\"paginationEnabled\",false,\"query\",\"https://{{endpoint.value}}/temporal/api/v1/namespaces/{{ns.value}}/workflows/{{workflowID.value}}/start\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"privateParams\",[\"~#iL\",[]],\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^3\",[]],\"isImported\",false,\"showSuccessToaster\",false,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"cookies\",\"\",\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",\"\",\"watchedParams\",[\"^D\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"paginationDataField\",\"\",\"timestamp\",0,\"importedQueryDefaults\",[\"^3\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"runWhenPageLoads\",false,\"transformer\",\"// type your code here\\n// example: return formatDataAsArray(data).filter(row => row.quantity > 20)\\nreturn data\",\"events\",[\"^D\",[]],\"queryTimeout\",\"10000\",\"requireConfirmation\",false,\"type\",\"POST\",\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^D\",[]],\"bodyType\",\"raw\",\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679819141464\",\"^A\",\"~m1680446393017\",\"^B\",\"\",\"^C\",null]]],\"workflow_status\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"workflow_status\",\"^4\",\"datasource\",\"^5\",\"RESTQuery\",\"^6\",null,\"^7\",\"REST-WithoutResource\",\"^8\",null,\"^9\",[\"^3\",[\"queryRefreshTime\",\"2000\",\"paginationLimit\",\"\",\"body\",\"{{\\n{\\n  execution: {\\n    workflowId: workflowID.value,\\n    runId: runID.value,\\n  },\\n  query: {\\n    queryType: \\\"progress\\\",\\n  },\\n}\\n}}\",\"lastReceivedFromResourceAt\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"successMessage\",\"\",\"queryDisabled\",\"{{ !window.isCreatingVideo(progress.value) }}\",\"playgroundQuerySaveId\",\"latest\",\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"paginationPaginationField\",\"\",\"headers\",\"[{\\\"key\\\":\\\"Authorization\\\",\\\"value\\\":\\\"Bearer FnvtyDWk1AqB7Sord8QjcRbY670BSXBycLu281mQsvFyvjD2Tw0hFyyXSztGTflp\\\"},{\\\"key\\\":\\\"Content-Type\\\",\\\"value\\\":\\\"application/json\\\"},{\\\"key\\\":\\\"X-CSRF-TOKEN\\\",\\\"value\\\":\\\"80h8AVeimhxiIbkzkSssYGPvXRvGjdee\\\"}]\",\"showFailureToaster\",false,\"paginationEnabled\",false,\"query\",\"https://{{endpoint.value}}/temporal/api/v1/namespaces/{{ns.value}}/workflows/{{workflowID.value}}/runs/{{runID.value}}/query\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"privateParams\",[\"^D\",[]],\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^3\",[]],\"isImported\",false,\"showSuccessToaster\",false,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"cookies\",\"[{\\\"key\\\":\\\"_csrf\\\",\\\"value\\\":\\\"80h8AVeimhxiIbkzkSssYGPvXRvGjdee\\\"}]\",\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",\"\",\"watchedParams\",[\"^D\",[\"runID.value\"]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"paginationDataField\",\"\",\"timestamp\",0,\"importedQueryDefaults\",[\"^3\",[]],\"enableTransformer\",true,\"showUpdateSetValueDynamicallyToggle\",true,\"runWhenPageLoads\",false,\"transformer\",\"const { payloads } = data.queryResult;\\nconst { metadata: { encoding }, data: encoded } = payloads[0];\\n\\nlet decoded = atob(encoded);\\nif (atob(encoding).startsWith('json/')) {\\n  decoded = JSON.parse(decoded);\\n}\\n\\nreturn JSON.parse(decoded);\\n\",\"events\",[\"^D\",[[\"^3\",[\"event\",\"success\",\"type\",\"script\",\"method\",\"run\",\"pluginId\",\"\",\"targetId\",null,\"params\",[\"^3\",[\"src\",\"progress.setValue(workflow_status.data);\\n\\nconst { output, title } = workflow_status.data;\\nif (output && output !== '') {\\n  const token = 'CWrhhEyQb5iQHsTa4COtjcGze0ezJuPMqKURwkTlw5vzuAHRZIy3hFKLIwk4JF58'\\n  video_url.setValue(`https://${assetDomain.value}/assets/${output}?token=${token}`);\\n  video_title.setValue(`##### ${title}`);\\n}\\n\"]],\"waitType\",\"debounce\",\"waitMs\",\"0\"]]]],\"queryTimeout\",\"5000\",\"requireConfirmation\",false,\"type\",\"POST\",\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^D\",[]],\"bodyType\",\"raw\",\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680091275454\",\"^A\",\"~m1680446398419\",\"^B\",\"\",\"^C\",null]]],\"create_video\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"create_video\",\"^4\",\"datasource\",\"^5\",\"JavascriptQuery\",\"^6\",null,\"^7\",\"JavascriptQuery\",\"^8\",null,\"^9\",[\"^3\",[\"queryRefreshTime\",\"\",\"lastReceivedFromResourceAt\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"successMessage\",\"开始生成视频\",\"queryDisabled\",\"{{ url_weixin.value === '' || url_weixin.invalid}}\",\"playgroundQuerySaveId\",\"latest\",\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"showFailureToaster\",true,\"query\",\"// reset states\\nawait video_url.setValue(null)\\nawait progress.setValue({\\n  parser: { status: 'pending', startTime: moment() },\\n  assets: { status: 'pending', startTime: moment() },\\n  video: { status: 'pending', startTime: moment() },\\n})\\nawait workflowID.setValue(moment().format('YYYYMMDD-hhmmss'));\\n\\nconsole.log(`Workflow ID: ${workflowID.value}`);\\n\\nrefresh_status.trigger();\\nstart_workflow.trigger({\\n  additionalScope: {\\n  },\\n  // You can use the argument to get the data with the onSuccess function\\n  onSuccess: function (data) {\\n    const { runId } = data;\\n    console.log(`runId: ${ runId }`);\\n    runID.setValue(runId);\\n  },\\n  onError: function (data) {\\n    progress.setValue(null);\\n    workflowID.setValue(null);\\n  }\\n});\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"privateParams\",[\"^D\",[]],\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^3\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^D\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^3\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"runWhenPageLoads\",false,\"transformer\",\"const data = start_workflow.data;\\n\",\"events\",[\"^D\",[]],\"queryTimeout\",\"10000\",\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^D\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679895216295\",\"^A\",\"~m1680094501984\",\"^B\",\"\",\"^C\",null]]],\"refresh_status\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"refresh_status\",\"^4\",\"datasource\",\"^5\",\"JavascriptQuery\",\"^6\",null,\"^7\",\"JavascriptQuery\",\"^8\",null,\"^9\",[\"^3\",[\"queryRefreshTime\",\"\",\"lastReceivedFromResourceAt\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"showFailureToaster\",true,\"query\",\"return {\\n  parser: window.activityDesc(progress.value, 'parser'),\\n  assets: window.activityDesc(progress.value, 'assets'),\\n  video: window.activityDesc(progress.value, 'video'),\\n};\\n\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"privateParams\",[\"^D\",[]],\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^3\",[]],\"isImported\",false,\"showSuccessToaster\",false,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^D\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^3\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"runWhenPageLoads\",false,\"transformer\",\"// type your code here\\n// example: return formatDataAsArray(data).filter(row => row.quantity > 20)\\nconsole.log(data);\\nreturn data\",\"events\",[\"^D\",[[\"^3\",[\"event\",\"success\",\"type\",\"script\",\"method\",\"run\",\"pluginId\",\"\",\"targetId\",null,\"params\",[\"^3\",[\"src\",\"setTimeout(() => {\\n  // if (window.isCreatingVideo(progress.value)) {\\n    refresh_status.trigger()  \\n  // }\\n}, 1000)\\n\"]],\"waitType\",\"debounce\",\"waitMs\",\"0\"]]]],\"queryTimeout\",\"10000\",\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^D\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679898361013\",\"^A\",\"~m1679976746024\",\"^B\",\"\",\"^C\",null]]],\"$main\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"$main\",\"^4\",\"frame\",\"^5\",\"Frame\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"type\",\"main\",\"sticky\",false]],\"^:\",[\"^3\",[]],\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679819142630\",\"^A\",\"~m1679819142630\",\"^B\",\"\",\"^C\",null]]],\"url_weixin\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"url_weixin\",\"^4\",\"widget\",\"^5\",\"TextInputWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"spellCheck\",false,\"readOnly\",false,\"iconAfter\",\"\",\"showCharacterCount\",false,\"autoComplete\",false,\"maxLength\",null,\"hidden\",false,\"customValidation\",\"\",\"patternType\",\"url\",\"hideValidationMessage\",false,\"textBefore\",\"\",\"validationMessage\",\"\",\"textAfter\",\"\",\"showInEditor\",false,\"showClear\",true,\"pattern\",\"\",\"tooltipText\",\"\",\"labelAlign\",\"left\",\"formDataKey\",\"{{ self.id }}\",\"value\",\"\",\"labelCaption\",\"\",\"hideLabel\",true,\"labelWidth\",\"5\\n\",\"autoFill\",\"\",\"placeholder\",\"请输入微信公众号文章链接地址\",\"_disclosedFields\",[],\"label\",\"URL\",\"_validate\",false,\"labelWidthUnit\",\"%\",\"invalid\",false,\"iconBefore\",\"\",\"minLength\",null,\"inputTooltip\",\"\",\"events\",[\"^3\",[]],\"autoCapitalize\",\"none\",\"loading\",false,\"disabled\",false,\"labelPosition\",\"left\",\"labelWrap\",false,\"maintainSpaceWhenHidden\",false,\"required\",false]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"rowGroup\",\"body\",\"subcontainer\",\"\",\"row\",7.800000000000001,\"col\",1,\"height\",1,\"width\",6,\"tabNum\",0]]],\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",6.4,\"col\",0,\"^G\",1,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679819222029\",\"^A\",\"~m1680377950558\",\"^B\",\"\",\"^C\",null]]],\"logo\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"logo\",\"^4\",\"widget\",\"^5\",\"ImageWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"heightType\",\"auto\",\"horizontalAlign\",\"center\",\"srcWidth\",null,\"clickable\",false,\"flipVertical\",false,\"src\",\"https://eteinai-web.oss-cn-shanghai.aliyuncs.com/mofangai.logo.png\",\"hidden\",false,\"srcHeight\",null,\"showInEditor\",true,\"tooltipText\",\"\",\"fit\",\"cover\",\"flipHorizontal\",false,\"aspectRatio\",null,\"storageBlobId\",\"\",\"_disclosedFields\",[],\"altText\",\"\",\"dbBlobId\",\"\",\"events\",[\"^3\",[]],\"srcType\",\"src\",\"maintainSpaceWhenHidden\",true]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",0.39999999999999925,\"col\",4,\"^G\",3,\"^H\",4,\"^I\",0]]],\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",0.1999999999999998,\"col\",1,\"^G\",3,\"^H\",10,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679819250429\",\"^A\",\"~m1680279842003\",\"^B\",\"\",\"^C\",null]]],\"btn_video\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"btn_video\",\"^4\",\"widget\",\"^5\",\"ButtonWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"horizontalAlign\",\"stretch\",\"clickable\",false,\"iconAfter\",\"\",\"submitTargetId\",\"\",\"hidden\",false,\"text\",\"生成视频\",\"showInEditor\",false,\"tooltipText\",\"\",\"style\",[\"^3\",[\"borderRadius\",\"12px\"]],\"_disclosedFields\",[],\"styleVariant\",\"solid\",\"submit\",false,\"iconBefore\",\"\",\"events\",[\"^D\",[[\"^3\",[\"method\",\"trigger\",\"enabled\",\"\",\"params\",[\"^3\",[]],\"targetId\",null,\"pluginId\",\"create_video\",\"waitType\",\"debounce\",\"event\",\"click\",\"type\",\"datasource\",\"waitMs\",\"0\"]]]],\"loading\",\"{{ window.isCreatingVideo(progress.value) }}\",\"loaderPosition\",\"replace\",\"disabled\",\"{{ url_weixin.value === '' || url_weixin.invalid}}\",\"maintainSpaceWhenHidden\",false]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",7.799999999999998,\"col\",9,\"^G\",1,\"^H\",2,\"^I\",0]]],\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",8.599999999999996,\"col\",0,\"^G\",1.2,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679819262366\",\"^A\",\"~m1680053615240\",\"^B\",\"\",\"^C\",null]]],\"info_parser\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"info_parser\",\"^4\",\"widget\",\"^5\",\"AlertWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"valueToCopy\",\"\",\"internalUrlHashParams\",\"\",\"hidden\",\"{{ window.activityStatus(progress.value, 'parser') === 'pending'}}\",\"exportFileType\",\"csv\",\"buttonType\",\"action\",\"showInEditor\",true,\"url\",\"\",\"newWindow\",false,\"exportQuery\",\"\",\"action\",\"\",\"internalUrlQuery\",\"\",\"internalUrlPath\",\"\",\"title\",\"{{ window.activityTitle(progress.value, 'parser', '网址解析') }}\",\"events\",[\"^D\",[]],\"type\",\"{{ window.activityType(progress.value, 'parser') }}\",\"exportFileName\",\"\",\"description\",\"{{ refresh_status.data?.parser ?? '' }}\",\"buttonText\",\"\"]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",9.400000000000002,\"col\",3,\"^G\",1,\"^H\",6,\"^I\",0]]],\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",10.200000000000001,\"col\",0,\"^G\",1,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679822791707\",\"^A\",\"~m1679915681973\",\"^B\",\"\",\"^C\",null]]],\"info_assets\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"info_assets\",\"^4\",\"widget\",\"^5\",\"AlertWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"valueToCopy\",\"\",\"internalUrlHashParams\",\"\",\"hidden\",\"{{ window.activityStatus(progress.value, 'assets') === 'pending'}}\",\"exportFileType\",\"csv\",\"buttonType\",\"action\",\"showInEditor\",true,\"url\",\"\",\"newWindow\",false,\"exportQuery\",\"\",\"action\",\"\",\"internalUrlQuery\",\"\",\"internalUrlPath\",\"\",\"title\",\"{{ window.activityTitle(progress.value, 'assets', '资源处理') }}\",\"events\",[\"^D\",[]],\"type\",\"{{ window.activityType(progress.value, 'assets') }}\",\"exportFileName\",\"\",\"description\",\"{{ refresh_status.data?.assets ?? '' }}\",\"buttonText\",\"\"]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",10.400000000000002,\"col\",3,\"^G\",1,\"^H\",6,\"^I\",0]]],\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",11.199999999999998,\"col\",0,\"^G\",1,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679822834442\",\"^A\",\"~m1679915702989\",\"^B\",\"\",\"^C\",null]]],\"info_video\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"info_video\",\"^4\",\"widget\",\"^5\",\"AlertWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"valueToCopy\",\"\",\"internalUrlHashParams\",\"\",\"hidden\",\"{{ window.activityStatus(progress.value, 'video') === 'pending'}}\",\"exportFileType\",\"csv\",\"buttonType\",\"action\",\"showInEditor\",true,\"url\",\"\",\"newWindow\",false,\"exportQuery\",\"\",\"action\",\"\",\"internalUrlQuery\",\"\",\"internalUrlPath\",\"\",\"title\",\"{{ window.activityTitle(progress.value, 'video', '视频生成') }}\",\"type\",\"{{ window.activityType(progress.value, 'video') }}\",\"exportFileName\",\"\",\"description\",\"{{ refresh_status.data?.video  ?? '' }}\",\"buttonText\",\"\"]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",11.400000000000002,\"col\",3,\"^G\",1,\"^H\",6,\"^I\",0]]],\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",12.199999999999998,\"col\",0,\"^G\",1,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679822836580\",\"^A\",\"~m1679915708973\",\"^B\",\"\",\"^C\",null]]],\"video_clip2\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"video_clip2\",\"^4\",\"widget\",\"^5\",\"VideoWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"src\",\"{{ video_url.value }}\",\"loop\",false,\"hidden\",\"{{ !video_url.value }}\",\"playing\",false,\"showInEditor\",true,\"tooltipText\",\"\",\"_disclosedFields\",[],\"duration\",0,\"hideControls\",false,\"events\",[\"^3\",[]],\"volume\",1,\"playbackRate\",1,\"currentTimeStamp\",0,\"maintainSpaceWhenHidden\",false]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",13.800000000000002,\"col\",4,\"^G\",14.6,\"^H\",4,\"^I\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679823153975\",\"^A\",\"~m1680115817721\",\"^B\",\"\",\"^C\",null]]],\"workflowID\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"workflowID\",\"^4\",\"state\",\"^5\",\"State\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"_persistedValueGetter\",null,\"_persistedValueSetter\",null,\"persistValue\",false,\"persistedValueKey\",\"\",\"value\",\"\\\"\\\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679850432861\",\"^A\",\"~m1679851297777\",\"^B\",\"\",\"^C\",null]]],\"runID\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"runID\",\"^4\",\"state\",\"^5\",\"State\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"_persistedValueGetter\",null,\"_persistedValueSetter\",null,\"persistValue\",false,\"persistedValueKey\",\"\",\"value\",null]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679851668342\",\"^A\",\"~m1679851668342\",\"^B\",\"\",\"^C\",null]]],\"progress\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"progress\",\"^4\",\"state\",\"^5\",\"State\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"_persistedValueGetter\",null,\"_persistedValueSetter\",null,\"persistValue\",false,\"persistedValueKey\",\"\",\"value\",null]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679875980905\",\"^A\",\"~m1679875980905\",\"^B\",\"\",\"^C\",null]]],\"video_url\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"video_url\",\"^4\",\"state\",\"^5\",\"State\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"_persistedValueGetter\",null,\"_persistedValueSetter\",null,\"persistValue\",false,\"persistedValueKey\",\"\",\"value\",null]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679902122479\",\"^A\",\"~m1679902122479\",\"^B\",\"\",\"^C\",null]]],\"video_title\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"video_title\",\"^4\",\"state\",\"^5\",\"State\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"_persistedValueGetter\",null,\"_persistedValueSetter\",null,\"persistValue\",false,\"persistedValueKey\",\"\",\"value\",null]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680111694608\",\"^A\",\"~m1680111694608\",\"^B\",\"\",\"^C\",null]]],\"sel_voice\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"sel_voice\",\"^4\",\"widget\",\"^5\",\"SelectWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"imageByIndex\",[],\"_disabledByIndex\",[\"^D\",[\"\",false,\"\",false,false,false]],\"showSelectionIndicator\",true,\"_values\",[\"^D\",[\"kenny\",\"stanley\",\"zhiyan_emo\",\"xiaoxian\",\"chuangirl\",\"laotie\"]],\"iconByIndex\",[],\"values\",[],\"readOnly\",false,\"iconAfter\",\"\",\"_iconByIndex\",[\"^D\",[\"\",\"\",\"\",\"\",\"\",\"\"]],\"overlayMinWidth\",null,\"allowDeselect\",false,\"inputValue\",\"\",\"hidden\",false,\"customValidation\",\"\",\"data\",[],\"searchMode\",\"disabled\",\"hideValidationMessage\",false,\"fallbackTextByIndex\",[],\"textBefore\",\"\",\"_fallbackTextByIndex\",[\"^D\",[\"\",\"\",\"\",\"\",\"\",\"\"]],\"selectedItem\",null,\"validationMessage\",\"\",\"automaticItemColors\",false,\"itemAdornmentShape\",\"circle\",\"textAfter\",\"\",\"showInEditor\",false,\"showClear\",false,\"tooltipText\",\"\",\"labelAlign\",\"left\",\"formDataKey\",\"{{ self.id }}\",\"value\",\"{{ sel_voice.data[0].value }}\",\"hiddenByIndex\",[],\"labelCaption\",\"\",\"labelWidth\",\"28\\n\",\"deprecatedLabels\",[],\"_hiddenByIndex\",[\"^D\",[\"\",false,\"\",false,false,false]],\"placeholder\",\"\",\"_captionByIndex\",[\"^D\",[\"男声\",\"男声\",\"女声\",\"女声\",\"四川话女声\",\"东北话男声\"]],\"_disclosedFields\",[],\"itemAdornmentSize\",\"auto\",\"label\",\"声音\",\"_hasMigratedNestedItems\",true,\"captionByIndex\",[],\"_validate\",false,\"itemMode\",\"static\",\"labelWidthUnit\",\"px\",\"allowCustomValue\",false,\"invalid\",false,\"selectedIndex\",null,\"_tooltipByIndex\",[\"^D\",[\"\",\"\",\"\",\"\",\"\",\"\"]],\"_colorByIndex\",[\"^D\",[\"\",\"\",\"\",\"\",\"\",\"\"]],\"tooltipByIndex\",[],\"iconBefore\",\"\",\"colorByIndex\",[],\"selectedLabel\",\"\",\"events\",[\"^3\",[]],\"_ids\",[\"^D\",[\"57bb1\",\"d5735\",\"9b771\",\"d47cb\",\"41b6a\",\"437ef\"]],\"emptyMessage\",\"No options\",\"overlayMaxHeight\",375,\"loading\",false,\"disabled\",false,\"labelPosition\",\"left\",\"_labels\",[\"^D\",[\"艾飞\",\"马树\",\"知猫\",\"小仙\",\"小玥\",\"老铁\"]],\"labelWrap\",false,\"disabledValues\",[],\"disabledByIndex\",[],\"maintainSpaceWhenHidden\",false,\"_imageByIndex\",[\"^D\",[\"\",\"\",\"\",\"\",\"\",\"\"]],\"required\",false,\"labels\",[]]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",7.7999999999999945,\"col\",7,\"^G\",1,\"^H\",2,\"^I\",0]]],\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",7.399999999999998,\"col\",0,\"^G\",1,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1679916400840\",\"^A\",\"~m1679919918010\",\"^B\",\"\",\"^C\",null]]],\"download_video\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"download_video\",\"^4\",\"datasource\",\"^5\",\"JavascriptQuery\",\"^6\",null,\"^7\",\"JavascriptQuery\",\"^8\",null,\"^9\",[\"^3\",[\"queryRefreshTime\",\"\",\"lastReceivedFromResourceAt\",null,\"queryDisabledMessage\",\"\",\"servedFromCache\",false,\"offlineUserQueryInputs\",\"\",\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"showFailureToaster\",true,\"query\",\"function blobToBase64(blob) {\\n  return new Promise((resolve, _) => {\\n    const reader = new FileReader();\\n    reader.onloadend = () => resolve(reader.result);\\n    reader.readAsDataURL(blob);\\n  });\\n}\\n\\nconst urlToDownload = video_url.value;\\nconsole.log(`Downloading ${urlToDownload}`);\\n\\nconst resp = await fetch(urlToDownload);\\nconst bytes = await resp.blob();\\n\\nconsole.log(bytes.size); // this returns 481070, so lots of data\\n\\nconst base64Data = await blobToBase64(bytes);\\nconst fileData = {base64Binary: base64Data};\\n\\nconsole.log(typeof base64Data);\\nconsole.log(base64Data.slice(0,30)); // data:audio/mpeg;base64,//uQBAA\\n// console.log(fileData); // this returns an object w/ a loooong base64 string\\n\\nutils.downloadFile(fileData, 'aa', 'mp4');\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"error\",null,\"privateParams\",[\"^D\",[]],\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^3\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"cacheKeyTtl\",\"\",\"requestSentTimestamp\",null,\"metadata\",null,\"queryRunTime\",null,\"changesetObject\",\"\",\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"finished\",null,\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"resourceTypeOverride\",null,\"watchedParams\",[\"^D\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^3\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"runWhenPageLoads\",false,\"transformer\",\"// type your code here\\n// example: return formatDataAsArray(data).filter(row => row.quantity > 20)\\nreturn data\",\"events\",[\"^D\",[]],\"queryTimeout\",\"10000\",\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^D\",[]],\"offlineQueryType\",\"None\",\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680061150655\",\"^A\",\"~m1680061158497\",\"^B\",\"\",\"^C\",null]]],\"lbl_title\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"lbl_title\",\"^4\",\"widget\",\"^5\",\"TextWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"heightType\",\"auto\",\"horizontalAlign\",\"center\",\"hidden\",\"{{ !video_url.value }}\",\"imageWidth\",\"fit\",\"showInEditor\",false,\"verticalAlign\",\"center\",\"tooltipText\",\"视频标题\",\"value\",\"{{ video_title.value }}\",\"_disclosedFields\",[],\"disableMarkdown\",false,\"overflowType\",\"scroll\",\"maintainSpaceWhenHidden\",false]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",13.199999999999998,\"col\",3,\"^G\",0.6,\"^H\",6,\"^I\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680110925366\",\"^A\",\"~m1680115790109\",\"^B\",\"\",\"^C\",null]]],\"video\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"video\",\"^4\",\"widget\",\"^5\",\"ContainerWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"_disabledByIndex\",[\"^D\",[\"\"]],\"heightType\",\"auto\",\"currentViewKey\",null,\"iconByIndex\",[],\"clickable\",false,\"_iconByIndex\",[\"^D\",[\"\"]],\"hidden\",\"{{ !video_url.value }}\",\"showHeader\",true,\"hoistFetching\",true,\"views\",[],\"showInEditor\",true,\"tooltipText\",\"\",\"hiddenByIndex\",[],\"_hiddenByIndex\",[\"^D\",[\"\"]],\"_disclosedFields\",[],\"currentViewIndex\",null,\"_hasMigratedNestedItems\",true,\"transition\",\"none\",\"itemMode\",\"static\",\"_tooltipByIndex\",[\"^D\",[\"\"]],\"tooltipByIndex\",[],\"showFooter\",false,\"_viewKeys\",[\"^D\",[\"View 1\"]],\"events\",[\"^3\",[]],\"_ids\",[\"^D\",[\"a0908\"]],\"viewKeys\",[],\"iconPositionByIndex\",[],\"_iconPositionByIndex\",[\"^D\",[\"\"]],\"hovered\",false,\"loading\",false,\"overflowType\",\"scroll\",\"disabled\",false,\"_labels\",[\"^D\",[\"\"]],\"disabledByIndex\",[],\"maintainSpaceWhenHidden\",false,\"showBody\",true,\"labels\",[]]],\"^:\",[\"^3\",[]],\"^;\",null,\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",13.600000000000003,\"col\",0,\"^G\",0.2,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680111205251\",\"^A\",\"~m1680374207457\",\"^B\",\"\",\"^C\",null]]],\"title\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"title\",\"^4\",\"widget\",\"^5\",\"TextWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"heightType\",\"auto\",\"horizontalAlign\",\"left\",\"hidden\",false,\"imageWidth\",\"fit\",\"showInEditor\",false,\"verticalAlign\",\"center\",\"tooltipText\",\"\",\"value\",\"{{ video_title.value }}\",\"_disclosedFields\",[],\"disableMarkdown\",false,\"overflowType\",\"scroll\",\"maintainSpaceWhenHidden\",false]],\"^:\",[\"^3\",[]],\"^;\",null,\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"video\",\"^E\",\"header\",\"^F\",\"\",\"row\",0,\"col\",0,\"^G\",0.6,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680111205375\",\"^A\",\"~m1680112490963\",\"^B\",\"\",\"^C\",null]]],\"video_clip\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"video_clip\",\"^4\",\"widget\",\"^5\",\"VideoWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"src\",\"{{ video_url.value }}\",\"loop\",false,\"hidden\",false,\"playing\",false,\"showInEditor\",false,\"tooltipText\",\"\",\"_disclosedFields\",[],\"duration\",0,\"hideControls\",false,\"events\",[\"^3\",[]],\"volume\",1,\"playbackRate\",1,\"currentTimeStamp\",0,\"maintainSpaceWhenHidden\",false]],\"^:\",[\"^3\",[]],\"^;\",null,\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"video\",\"^E\",\"body\",\"^F\",\"a0908\",\"row\",0,\"col\",0,\"^G\",14.2,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680111262549\",\"^A\",\"~m1680111378818\",\"^B\",\"\",\"^C\",null]]],\"btn_download\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"btn_download\",\"^4\",\"widget\",\"^5\",\"HTMLWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"clickable\",false,\"css\",\"#btn_download {\\n  background-color: #0d6efd;\\n  border: 1px solid transparent;\\n  border-color: #0d6efd;\\n  border-radius: .5rem;\\n  cursor: pointer;\\n  color: #fff;\\n  display: inline-block;\\n  font-size: 14px;\\n  font-weight: 400;\\n  line-height: 1.5;\\n  outline: 0;\\n  padding: 6px 0px;\\n  text-align: center;\\n  width: 100%;\\n}\\n\\na:link {\\n  text-decoration: none;\\n}\\n\",\"hidden\",\"true\",\"html\",\"<a id=\\\"btn_download\\\" href={{video_url.value}} download>\\n  下载\\n</a>\",\"showInEditor\",false,\"tooltipText\",\"\",\"_disclosedFields\",[],\"events\",[\"^D\",[]],\"maintainSpaceWhenHidden\",false]],\"^:\",[\"^3\",[]],\"^;\",null,\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",13.799999999999997,\"col\",4,\"^G\",0.2,\"^H\",4,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680111302112\",\"^A\",\"~m1680375981013\",\"^B\",\"\",\"^C\",null]]],\"btn_download2\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"btn_download2\",\"^4\",\"widget\",\"^5\",\"HTMLWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"clickable\",false,\"css\",\"#btn_download {\\n  background-color: #0d6efd;\\n  border: 1px solid transparent;\\n  border-color: #0d6efd;\\n  border-radius: .5rem;\\n  cursor: pointer;\\n  color: #fff;\\n  display: inline-block;\\n  font-size: 14px;\\n  font-weight: 400;\\n  line-height: 1.5;\\n  outline: 0;\\n  padding: 6px 0px;\\n  text-align: center;\\n  width: 100%;\\n}\\n\\na:link {\\n  text-decoration: none;\\n}\\n\",\"hidden\",\"{{ !video_url.value }}\",\"html\",\"<a id=\\\"btn_download\\\" href={{video_url.value}} download>\\n  下载\\n</a>\",\"showInEditor\",true,\"tooltipText\",\"\",\"_disclosedFields\",[],\"events\",[\"^3\",[]],\"maintainSpaceWhenHidden\",false]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^E\",\"body\",\"^F\",\"\",\"row\",28.8,\"col\",5,\"^G\",0.2,\"^H\",2,\"^I\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680115751241\",\"^A\",\"~m1680115751241\",\"^B\",\"\",\"^C\",null]]],\"$appStyles\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"$appStyles\",\"^4\",\"setting\",\"^5\",\"AppStyles\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"value\",\"._retool-btn_share button span {\\n  font-size: 16px\\n}\\n\\n._retool-btn_video button span {\\n  font-size: 16px;\\n}\\n\\n._retool-btn_video button {\\n  border-color: black;\\n  border-width: 1px;\\n  border-style: solid;\\n  border-radius: 50vh;  \\n}\\n\\n._retool-url_weixin {\\n  line-height: 1.5; \\n}\\n\\n._retool-url_weixin input {\\n  font-size: 14px;\\n}\\n\\n._retool-sel_voices select {\\n  font-size: 14px;\\n}\\n\\n._retool-container-url_weixin {\\n  height: 60px;\\n}\\n\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680364154112\",\"^A\",\"~m1680379882297\",\"^B\",\"\",\"^C\",null]]],\"frame_video\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"frame_video\",\"^4\",\"widget\",\"^5\",\"IFrameWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"allowTopNavigation\",false,\"allowDownloads\",true,\"src\",\"https://www.tech.mfyyx.com/assets/share.html?token=CWrhhEyQb5iQHsTa4COtjcGze0ezJuPMqKURwkTlw5vzuAHRZIy3hFKLIwk4JF58&url={{video_url.value}}\",\"allowFullscreen\",false,\"allowForms\",true,\"hidden\",\"false\",\"allowCamera\",false,\"allowModals\",false,\"showInEditor\",false,\"allowPopups\",false,\"tooltipText\",\"\",\"style\",[\"^3\",[\"borderColor\",\"rgba(209, 209, 209, 0)\"]],\"allowMicrophone\",false,\"_disclosedFields\",[],\"allowSameOrigin\",true,\"title\",\"aaa\",\"showTopBar\",false,\"allowPayment\",false,\"allowGeolocation\",false,\"maintainSpaceWhenHidden\",false]],\"^:\",[\"^3\",[]],\"^;\",null,\"^<\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"video\",\"^E\",\"body\",\"^F\",\"a0908\",\"row\",14.2,\"col\",0,\"^G\",1.4,\"^H\",12,\"^I\",0]]],\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1680374191653\",\"^A\",\"~m1680377593462\",\"^B\",\"\",\"^C\",null]]]]],\"^@\",null,\"version\",\"2.116.0\",\"appThemeId\",null,\"appMaxWidth\",\"1080px\",\"preloadedAppJavaScript\",\"\\nwindow.activityDesc = (obj, key) => {\\n  if (!obj) {\\n    return '';\\n  }\\n\\n  const progress = obj[key];\\n  if (progress.status === 'error') {\\n    switch (progress.code) {\\n      case 'UrlParserError':\\n        return '无法获取文章内容';\\n      case 'SummaryError':\\n        return '无法生成摘要';\\n      case 'TooFewImages':\\n        return '文章所含图片过少(<6)';\\n      case 'SummaryError':\\n        return '无法生成摘要';\\n      case 'AssetsMismatch':\\n        return '资源不匹配';\\n      case 'VideoGenError':\\n        return '制作视频失败';\\n      case 'VideoConcatError':\\n        return '合成视频失败';\\n      default:\\n        return '未知错误';\\n    }\\n  }\\n\\n  const { startTime } = progress;\\n  if (!startTime) {\\n    return ''\\n  }\\n\\n  const endTime = progress?.endTime ?? moment();\\n  return `${Math.floor((endTime - startTime)/1000)}s`;\\n}\\n\\nwindow.activityStatus = (obj, key) => {\\n  if (!obj) {\\n    return 'pending';\\n  }\\n  return obj[key]?.status ?? 'pending';\\n}\\n\\nwindow.activityType = (obj, key) => {\\n  switch (window.activityStatus(obj, key)) {\\n    case 'running':\\n      return 'warning';\\n    case 'success':\\n      return 'success';\\n    case 'pending':\\n      return 'info';\\n    default:\\n      return 'error';      \\n  }\\n}\\n\\nwindow.activityTitle = (obj, key, prefix) => {\\n  switch (window.activityStatus(obj, key)) {\\n    case 'running':\\n      return prefix + '中...';\\n    case 'success':\\n      return prefix + '完成';\\n    case 'pending':\\n      return prefix + '等待中...';\\n    default:\\n      return prefix + '失败';\\n  }\\n}\\n\\nwindow.isCreatingVideo = (progress) => {\\n  if (!progress) {\\n    return false;\\n  }\\n\\n  const { parser, assets, video } = progress;\\n  if (progress.video.status === 'success') {\\n    return false;\\n  }\\n  for (const { status } of [parser, assets, video]) {\\n    if (status === 'fail' || status === 'error') {\\n      return false;\\n    }\\n  }\\n\\n  return true;\\n}\\n\",\"preloadedAppJSLinks\",[],\"testEntities\",[],\"tests\",[],\"appStyles\",\"\",\"responsiveLayoutDisabled\",false,\"loadingIndicatorsDisabled\",false,\"urlFragmentDefinitions\",[\"^D\",[]],\"pageLoadValueOverrides\",[\"^D\",[]],\"customDocumentTitle\",\"\",\"customDocumentTitleEnabled\",false,\"customShortcuts\",[],\"isGlobalWidget\",false,\"isMobileApp\",false,\"multiScreenMobileApp\",false,\"mobileAppSettings\",[\"^ \",\"mobileOfflineModeEnabled\",false,\"mobileOfflineModeDelaySync\",false,\"mobileOfflineModeBannerMode\",\"default\",\"displaySetting\",[\"^ \",\"landscapeMode\",false,\"tabletMode\",false]],\"folders\",[\"^D\",[]],\"queryStatusVisibility\",false,\"markdownLinkBehavior\",\"auto\",\"inAppRetoolPillAppearance\",\"NO_OVERRIDE\",\"rootScreen\",null,\"instrumentationEnabled\",false,\"experimentalPerfFeatures\",[\"^ \",\"serverDepGraphEnabled\",false,\"useRuntimeV2\",true,\"runtimeV2OptOut\",false],\"experimentalStabilityFeatures\",[\"^ \",\"lockModelForUpdates\",false],\"experimentalDataTabEnabled\",true]]]"},"changesRecord":[{"type":"MIGRATIONS_UP_TO_DATE","payload":{"migratedAppTemplate":{"tests":[],"folders":[],"plugins":{"ns":{"id":"ns","type":"state","style":null,"folder":"","screen":null,"subtype":"State","tabIndex":null,"template":{"value":"default","persistValue":false,"persistedValueKey":"","_persistedValueGetter":null,"_persistedValueSetter":null},"container":"","createdAt":"2023-03-27T04:05:32.596Z","namespace":null,"position2":null,"updatedAt":"2023-03-29T12:58:28.046Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"logo":{"id":"logo","type":"widget","style":{},"folder":"","screen":null,"subtype":"ImageWidget2","tabIndex":null,"template":{"fit":"cover","src":"https://eteinai-web.oss-cn-shanghai.aliyuncs.com/mofangai.logo.png","events":{},"hidden":false,"altText":"","srcType":"src","dbBlobId":"","srcWidth":null,"clickable":false,"srcHeight":null,"heightType":"auto","aspectRatio":null,"tooltipText":"","flipVertical":false,"showInEditor":true,"storageBlobId":"","flipHorizontal":false,"horizontalAlign":"center","_disclosedFields":[],"maintainSpaceWhenHidden":true},"container":"","createdAt":"2023-03-26T08:27:30.429Z","namespace":null,"position2":{"col":4,"row":0.39999999999999925,"width":4,"height":3,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-03-31T16:24:02.003Z","resourceName":null,"mobilePosition2":{"col":1,"row":0.1999999999999998,"width":10,"height":3,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"$main":{"id":"$main","type":"frame","style":{},"folder":"","screen":null,"subtype":"Frame","tabIndex":null,"template":{"type":"main","sticky":false},"container":"","createdAt":"2023-03-26T08:25:42.630Z","namespace":null,"position2":null,"updatedAt":"2023-03-26T08:25:42.630Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"runID":{"id":"runID","type":"state","style":null,"folder":"","screen":null,"subtype":"State","tabIndex":null,"template":{"value":null,"persistValue":false,"persistedValueKey":"","_persistedValueGetter":null,"_persistedValueSetter":null},"container":"","createdAt":"2023-03-26T17:27:48.342Z","namespace":null,"position2":null,"updatedAt":"2023-03-26T17:27:48.342Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"title":{"id":"title","type":"widget","style":{},"folder":"","screen":null,"subtype":"TextWidget2","tabIndex":null,"template":{"value":"{{ video_title.value }}","hidden":false,"heightType":"auto","imageWidth":"fit","tooltipText":"","overflowType":"scroll","showInEditor":false,"verticalAlign":"center","disableMarkdown":false,"horizontalAlign":"left","_disclosedFields":[],"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-29T17:33:25.375Z","namespace":null,"position2":null,"updatedAt":"2023-03-29T17:54:50.963Z","resourceName":null,"mobilePosition2":{"col":0,"row":0,"width":12,"height":0.6,"tabNum":0,"rowGroup":"header","container":"video","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"video":{"id":"video","type":"widget","style":{},"folder":"","screen":null,"subtype":"ContainerWidget2","tabIndex":null,"template":{"_ids":["a0908"],"views":[],"events":{},"hidden":"{{ !video_url.value }}","labels":[],"_labels":[""],"hovered":false,"loading":false,"disabled":false,"itemMode":"static","showBody":true,"viewKeys":[],"_viewKeys":["View 1"],"clickable":false,"heightType":"auto","showFooter":false,"showHeader":true,"transition":"none","iconByIndex":[],"tooltipText":"","_iconByIndex":[""],"overflowType":"scroll","showInEditor":true,"hiddenByIndex":[],"hoistFetching":true,"_hiddenByIndex":[""],"currentViewKey":null,"tooltipByIndex":[],"_tooltipByIndex":[""],"disabledByIndex":[],"_disabledByIndex":[""],"_disclosedFields":[],"currentViewIndex":null,"iconPositionByIndex":[],"_iconPositionByIndex":[""],"_hasMigratedNestedItems":true,"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-29T17:33:25.251Z","namespace":null,"position2":null,"updatedAt":"2023-04-01T18:36:47.457Z","resourceName":null,"mobilePosition2":{"col":0,"row":13.600000000000003,"width":12,"height":0.2,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"endpoint":{"id":"endpoint","type":"state","folder":"","subtype":"State","template":{"value":"vcg.cybery.tech","persistValue":false,"persistedValueKey":"","_persistedValueGetter":null,"_persistedValueSetter":null},"container":"","createdAt":"2023-04-02T14:39:14.948Z","updatedAt":"2023-04-02T14:39:42.793Z"},"progress":{"id":"progress","type":"state","style":null,"folder":"","screen":null,"subtype":"State","tabIndex":null,"template":{"value":null,"persistValue":false,"persistedValueKey":"","_persistedValueGetter":null,"_persistedValueSetter":null},"container":"","createdAt":"2023-03-27T00:13:00.905Z","namespace":null,"position2":null,"updatedAt":"2023-03-27T00:13:00.905Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"btn_video":{"id":"btn_video","type":"widget","style":{},"folder":"","screen":null,"subtype":"ButtonWidget2","tabIndex":null,"template":{"text":"生成视频","style":{"borderRadius":"12px"},"events":[{"type":"datasource","event":"click","method":"trigger","params":{},"waitMs":"0","enabled":"","pluginId":"create_video","targetId":null,"waitType":"debounce"}],"hidden":false,"submit":false,"loading":"{{ window.isCreatingVideo(progress.value) }}","disabled":"{{ url_weixin.value === '' || url_weixin.invalid}}","clickable":false,"iconAfter":"","iconBefore":"","tooltipText":"","showInEditor":false,"styleVariant":"solid","loaderPosition":"replace","submitTargetId":"","horizontalAlign":"stretch","_disclosedFields":[],"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-26T08:27:42.366Z","namespace":null,"position2":{"col":9,"row":7.799999999999998,"width":2,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-03-29T01:33:35.240Z","resourceName":null,"mobilePosition2":{"col":0,"row":8.599999999999996,"width":12,"height":1.2,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"lbl_title":{"id":"lbl_title","type":"widget","style":{},"folder":"","screen":null,"subtype":"TextWidget2","tabIndex":null,"template":{"value":"{{ video_title.value }}","hidden":"{{ !video_url.value }}","heightType":"auto","imageWidth":"fit","tooltipText":"视频标题","overflowType":"scroll","showInEditor":false,"verticalAlign":"center","disableMarkdown":false,"horizontalAlign":"center","_disclosedFields":[],"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-29T17:28:45.366Z","namespace":null,"position2":{"col":3,"row":13.199999999999998,"width":6,"height":0.6,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-03-29T18:49:50.109Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"sel_voice":{"id":"sel_voice","type":"widget","style":{},"folder":"","screen":null,"subtype":"SelectWidget2","tabIndex":null,"template":{"_ids":["57bb1","d5735","9b771","d47cb","41b6a","437ef"],"data":[],"label":"声音","value":"{{ sel_voice.data[0].value }}","events":{},"hidden":false,"labels":[],"values":[],"_labels":["艾飞","马树","知猫","小仙","小玥","老铁"],"_values":["kenny","stanley","zhiyan_emo","xiaoxian","chuangirl","laotie"],"invalid":false,"loading":false,"disabled":false,"itemMode":"static","readOnly":false,"required":false,"_validate":false,"iconAfter":"","labelWrap":false,"showClear":false,"textAfter":"","iconBefore":"","inputValue":"","labelAlign":"left","labelWidth":"28\n","searchMode":"disabled","textBefore":"","formDataKey":"{{ self.id }}","iconByIndex":[],"placeholder":"","tooltipText":"","_iconByIndex":["","","","","",""],"colorByIndex":[],"emptyMessage":"No options","imageByIndex":[],"labelCaption":"","selectedItem":null,"showInEditor":false,"_colorByIndex":["","","","","",""],"_imageByIndex":["","","","","",""],"allowDeselect":false,"hiddenByIndex":[],"labelPosition":"left","selectedIndex":null,"selectedLabel":"","_hiddenByIndex":["",false,"",false,false,false],"captionByIndex":[],"disabledValues":[],"labelWidthUnit":"px","tooltipByIndex":[],"_captionByIndex":["男声","男声","女声","女声","四川话女声","东北话男声"],"_tooltipByIndex":["","","","","",""],"disabledByIndex":[],"overlayMinWidth":null,"_disabledByIndex":["",false,"",false,false,false],"_disclosedFields":[],"allowCustomValue":false,"customValidation":"","deprecatedLabels":[],"overlayMaxHeight":375,"itemAdornmentSize":"auto","validationMessage":"","itemAdornmentShape":"circle","automaticItemColors":false,"fallbackTextByIndex":[],"_fallbackTextByIndex":["","","","","",""],"hideValidationMessage":false,"showSelectionIndicator":true,"_hasMigratedNestedItems":true,"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-27T11:26:40.840Z","namespace":null,"position2":{"col":7,"row":7.7999999999999945,"width":2,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-03-27T12:25:18.010Z","resourceName":null,"mobilePosition2":{"col":0,"row":7.399999999999998,"width":12,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"video_url":{"id":"video_url","type":"state","style":null,"folder":"","screen":null,"subtype":"State","tabIndex":null,"template":{"value":null,"persistValue":false,"persistedValueKey":"","_persistedValueGetter":null,"_persistedValueSetter":null},"container":"","createdAt":"2023-03-27T07:28:42.479Z","namespace":null,"position2":null,"updatedAt":"2023-03-27T07:28:42.479Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"$appStyles":{"id":"$appStyles","type":"setting","style":null,"folder":"","screen":null,"subtype":"AppStyles","tabIndex":null,"template":{"value":"._retool-btn_share button span {\n  font-size: 16px\n}\n\n._retool-btn_video button span {\n  font-size: 16px;\n}\n\n._retool-btn_video button {\n  border-color: black;\n  border-width: 1px;\n  border-style: solid;\n  border-radius: 50vh;  \n}\n\n._retool-url_weixin {\n  line-height: 1.5; \n}\n\n._retool-url_weixin input {\n  font-size: 14px;\n}\n\n._retool-sel_voices select {\n  font-size: 14px;\n}\n\n._retool-container-url_weixin {\n  height: 60px;\n}\n"},"container":"","createdAt":"2023-04-01T15:49:14.112Z","namespace":null,"position2":null,"updatedAt":"2023-04-01T20:11:22.297Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"info_video":{"id":"info_video","type":"widget","style":{},"folder":"","screen":null,"subtype":"AlertWidget","tabIndex":null,"template":{"url":"","type":"{{ window.activityType(progress.value, 'video') }}","title":"{{ window.activityTitle(progress.value, 'video', '视频生成') }}","action":"","hidden":"{{ window.activityStatus(progress.value, 'video') === 'pending'}}","newWindow":false,"buttonText":"","buttonType":"action","description":"{{ refresh_status.data?.video  ?? '' }}","exportQuery":"","valueToCopy":"","showInEditor":true,"exportFileName":"","exportFileType":"csv","internalUrlPath":"","internalUrlQuery":"","internalUrlHashParams":""},"container":"","createdAt":"2023-03-26T09:27:16.580Z","namespace":null,"position2":{"col":3,"row":11.400000000000002,"width":6,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-03-27T11:15:08.973Z","resourceName":null,"mobilePosition2":{"col":0,"row":12.199999999999998,"width":12,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"url_weixin":{"id":"url_weixin","type":"widget","style":{},"folder":"","screen":null,"subtype":"TextInputWidget2","tabIndex":null,"template":{"label":"URL","value":"","events":{},"hidden":false,"invalid":false,"loading":false,"pattern":"","autoFill":"","disabled":false,"readOnly":false,"required":false,"_validate":false,"hideLabel":true,"iconAfter":"","labelWrap":false,"maxLength":null,"minLength":null,"showClear":true,"textAfter":"","iconBefore":"","labelAlign":"left","labelWidth":"5\n","spellCheck":false,"textBefore":"","formDataKey":"{{ self.id }}","patternType":"url","placeholder":"请输入微信公众号文章链接地址","tooltipText":"","autoComplete":false,"inputTooltip":"","labelCaption":"","showInEditor":false,"labelPosition":"left","autoCapitalize":"none","labelWidthUnit":"%","_disclosedFields":[],"customValidation":"","validationMessage":"","showCharacterCount":false,"hideValidationMessage":false,"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-26T08:27:02.029Z","namespace":null,"position2":{"col":1,"row":7.800000000000001,"width":6,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-04-01T19:39:10.558Z","resourceName":null,"mobilePosition2":{"col":0,"row":6.4,"width":12,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"video_clip":{"id":"video_clip","type":"widget","style":{},"folder":"","screen":null,"subtype":"VideoWidget","tabIndex":null,"template":{"src":"{{ video_url.value }}","loop":false,"events":{},"hidden":false,"volume":1,"playing":false,"duration":0,"tooltipText":"","hideControls":false,"playbackRate":1,"showInEditor":false,"_disclosedFields":[],"currentTimeStamp":0,"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-29T17:34:22.549Z","namespace":null,"position2":null,"updatedAt":"2023-03-29T17:36:18.818Z","resourceName":null,"mobilePosition2":{"col":0,"row":0,"width":12,"height":14.2,"tabNum":0,"rowGroup":"body","container":"video","subcontainer":"a0908"},"mobileAppPosition":null,"resourceDisplayName":null},"workflowID":{"id":"workflowID","type":"state","style":null,"folder":"","screen":null,"subtype":"State","tabIndex":null,"template":{"value":"\"\"","persistValue":false,"persistedValueKey":"","_persistedValueGetter":null,"_persistedValueSetter":null},"container":"","createdAt":"2023-03-26T17:07:12.861Z","namespace":null,"position2":null,"updatedAt":"2023-03-26T17:21:37.777Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"assetDomain":{"id":"assetDomain","type":"state","style":null,"folder":"","screen":null,"subtype":"State","tabIndex":null,"template":{"value":"www.tech.mfyyx.com","persistValue":false,"persistedValueKey":"","_persistedValueGetter":null,"_persistedValueSetter":null},"container":"","createdAt":"2023-03-31T16:21:26.060Z","namespace":null,"position2":null,"updatedAt":"2023-03-31T16:29:11.047Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"frame_video":{"id":"frame_video","type":"widget","style":{},"folder":"","screen":null,"subtype":"IFrameWidget2","tabIndex":null,"template":{"src":"https://www.tech.mfyyx.com/assets/share.html?token=CWrhhEyQb5iQHsTa4COtjcGze0ezJuPMqKURwkTlw5vzuAHRZIy3hFKLIwk4JF58&url={{video_url.value}}","style":{"borderColor":"rgba(209, 209, 209, 0)"},"title":"aaa","hidden":"false","allowForms":true,"showTopBar":false,"allowCamera":false,"allowModals":false,"allowPopups":false,"tooltipText":"","allowPayment":false,"showInEditor":false,"allowDownloads":true,"allowFullscreen":false,"allowMicrophone":false,"allowSameOrigin":true,"_disclosedFields":[],"allowGeolocation":false,"allowTopNavigation":false,"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-04-01T18:36:31.653Z","namespace":null,"position2":null,"updatedAt":"2023-04-01T19:33:13.462Z","resourceName":null,"mobilePosition2":{"col":0,"row":14.2,"width":12,"height":1.4,"tabNum":0,"rowGroup":"body","container":"video","subcontainer":"a0908"},"mobileAppPosition":null,"resourceDisplayName":null},"info_assets":{"id":"info_assets","type":"widget","style":{},"folder":"","screen":null,"subtype":"AlertWidget","tabIndex":null,"template":{"url":"","type":"{{ window.activityType(progress.value, 'assets') }}","title":"{{ window.activityTitle(progress.value, 'assets', '资源处理') }}","action":"","events":[],"hidden":"{{ window.activityStatus(progress.value, 'assets') === 'pending'}}","newWindow":false,"buttonText":"","buttonType":"action","description":"{{ refresh_status.data?.assets ?? '' }}","exportQuery":"","valueToCopy":"","showInEditor":true,"exportFileName":"","exportFileType":"csv","internalUrlPath":"","internalUrlQuery":"","internalUrlHashParams":""},"container":"","createdAt":"2023-03-26T09:27:14.442Z","namespace":null,"position2":{"col":3,"row":10.400000000000002,"width":6,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-03-27T11:15:02.989Z","resourceName":null,"mobilePosition2":{"col":0,"row":11.199999999999998,"width":12,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"info_parser":{"id":"info_parser","type":"widget","style":{},"folder":"","screen":null,"subtype":"AlertWidget","tabIndex":null,"template":{"url":"","type":"{{ window.activityType(progress.value, 'parser') }}","title":"{{ window.activityTitle(progress.value, 'parser', '网址解析') }}","action":"","events":[],"hidden":"{{ window.activityStatus(progress.value, 'parser') === 'pending'}}","newWindow":false,"buttonText":"","buttonType":"action","description":"{{ refresh_status.data?.parser ?? '' }}","exportQuery":"","valueToCopy":"","showInEditor":true,"exportFileName":"","exportFileType":"csv","internalUrlPath":"","internalUrlQuery":"","internalUrlHashParams":""},"container":"","createdAt":"2023-03-26T09:26:31.707Z","namespace":null,"position2":{"col":3,"row":9.400000000000002,"width":6,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-03-27T11:14:41.973Z","resourceName":null,"mobilePosition2":{"col":0,"row":10.200000000000001,"width":12,"height":1,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"video_clip2":{"id":"video_clip2","type":"widget","style":{},"folder":"","screen":null,"subtype":"VideoWidget","tabIndex":null,"template":{"src":"{{ video_url.value }}","loop":false,"events":{},"hidden":"{{ !video_url.value }}","volume":1,"playing":false,"duration":0,"tooltipText":"","hideControls":false,"playbackRate":1,"showInEditor":true,"_disclosedFields":[],"currentTimeStamp":0,"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-26T09:32:33.975Z","namespace":null,"position2":{"col":4,"row":13.800000000000002,"width":4,"height":14.6,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-03-29T18:50:17.721Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"video_title":{"id":"video_title","type":"state","style":null,"folder":"","screen":null,"subtype":"State","tabIndex":null,"template":{"value":null,"persistValue":false,"persistedValueKey":"","_persistedValueGetter":null,"_persistedValueSetter":null},"container":"","createdAt":"2023-03-29T17:41:34.608Z","namespace":null,"position2":null,"updatedAt":"2023-03-29T17:41:34.608Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"btn_download":{"id":"btn_download","type":"widget","style":{},"folder":"","screen":null,"subtype":"HTMLWidget","tabIndex":null,"template":{"css":"#btn_download {\n  background-color: #0d6efd;\n  border: 1px solid transparent;\n  border-color: #0d6efd;\n  border-radius: .5rem;\n  cursor: pointer;\n  color: #fff;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.5;\n  outline: 0;\n  padding: 6px 0px;\n  text-align: center;\n  width: 100%;\n}\n\na:link {\n  text-decoration: none;\n}\n","html":"<a id=\"btn_download\" href={{video_url.value}} download>\n  下载\n</a>","events":[],"hidden":"true","clickable":false,"tooltipText":"","showInEditor":false,"_disclosedFields":[],"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-29T17:35:02.112Z","namespace":null,"position2":null,"updatedAt":"2023-04-01T19:06:21.013Z","resourceName":null,"mobilePosition2":{"col":4,"row":13.799999999999997,"width":4,"height":0.2,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"mobileAppPosition":null,"resourceDisplayName":null},"create_video":{"id":"create_video","type":"datasource","style":null,"folder":"","screen":null,"subtype":"JavascriptQuery","tabIndex":null,"template":{"data":null,"error":null,"query":"// reset states\nawait video_url.setValue(null)\nawait progress.setValue({\n  parser: { status: 'pending', startTime: moment() },\n  assets: { status: 'pending', startTime: moment() },\n  video: { status: 'pending', startTime: moment() },\n})\nawait workflowID.setValue(moment().format('YYYYMMDD-hhmmss'));\n\nconsole.log(`Workflow ID: ${workflowID.value}`);\n\nrefresh_status.trigger();\nstart_workflow.trigger({\n  additionalScope: {\n  },\n  // You can use the argument to get the data with the onSuccess function\n  onSuccess: function (data) {\n    const { runId } = data;\n    console.log(`runId: ${ runId }`);\n    runID.setValue(runId);\n  },\n  onError: function (data) {\n    progress.setValue(null);\n    workflowID.setValue(null);\n  }\n});","events":[],"rawData":null,"finished":null,"metadata":null,"changeset":"","timestamp":0,"isFetching":false,"isImported":false,"cacheKeyTtl":"","transformer":"const data = start_workflow.data;\n","queryRunTime":null,"queryTimeout":"10000","allowedGroups":[],"enableCaching":false,"privateParams":[],"queryDisabled":"{{ url_weixin.value === '' || url_weixin.invalid}}","watchedParams":[],"successMessage":"开始生成视频","changesetObject":"","servedFromCache":false,"errorTransformer":"// The variable 'data' allows you to reference the request's data in the transformer. \n// example: return data.find(element => element.isError)\nreturn data.error","offlineQueryType":"None","queryRefreshTime":"","runWhenPageLoads":false,"changesetIsObject":false,"enableTransformer":false,"playgroundQueryId":null,"queryThrottleTime":"750","queryTriggerDelay":"0","showFailureToaster":true,"showSuccessToaster":true,"confirmationMessage":null,"importedQueryInputs":{},"playgroundQueryUuid":"","requireConfirmation":false,"runWhenModelUpdates":false,"notificationDuration":"","queryDisabledMessage":"","requestSentTimestamp":null,"resourceNameOverride":"","resourceTypeOverride":null,"importedQueryDefaults":{},"playgroundQuerySaveId":"latest","runWhenPageLoadsDelay":"","enableErrorTransformer":false,"offlineUserQueryInputs":"","queryFailureConditions":"","updateSetValueDynamically":false,"lastReceivedFromResourceAt":null,"showLatestVersionUpdatedWarning":false,"showUpdateSetValueDynamicallyToggle":true},"container":"","createdAt":"2023-03-27T05:33:36.295Z","namespace":null,"position2":null,"updatedAt":"2023-03-29T12:55:01.984Z","resourceName":"JavascriptQuery","mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"btn_download2":{"id":"btn_download2","type":"widget","style":{},"folder":"","screen":null,"subtype":"HTMLWidget","tabIndex":null,"template":{"css":"#btn_download {\n  background-color: #0d6efd;\n  border: 1px solid transparent;\n  border-color: #0d6efd;\n  border-radius: .5rem;\n  cursor: pointer;\n  color: #fff;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 1.5;\n  outline: 0;\n  padding: 6px 0px;\n  text-align: center;\n  width: 100%;\n}\n\na:link {\n  text-decoration: none;\n}\n","html":"<a id=\"btn_download\" href={{video_url.value}} download>\n  下载\n</a>","events":{},"hidden":"{{ !video_url.value }}","clickable":false,"tooltipText":"","showInEditor":true,"_disclosedFields":[],"maintainSpaceWhenHidden":false},"container":"","createdAt":"2023-03-29T18:49:11.241Z","namespace":null,"position2":{"col":5,"row":28.8,"width":2,"height":0.2,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2023-03-29T18:49:11.241Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"download_video":{"id":"download_video","type":"datasource","style":null,"folder":"","screen":null,"subtype":"JavascriptQuery","tabIndex":null,"template":{"data":null,"error":null,"query":"function blobToBase64(blob) {\n  return new Promise((resolve, _) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result);\n    reader.readAsDataURL(blob);\n  });\n}\n\nconst urlToDownload = video_url.value;\nconsole.log(`Downloading ${urlToDownload}`);\n\nconst resp = await fetch(urlToDownload);\nconst bytes = await resp.blob();\n\nconsole.log(bytes.size); // this returns 481070, so lots of data\n\nconst base64Data = await blobToBase64(bytes);\nconst fileData = {base64Binary: base64Data};\n\nconsole.log(typeof base64Data);\nconsole.log(base64Data.slice(0,30)); // data:audio/mpeg;base64,//uQBAA\n// console.log(fileData); // this returns an object w/ a loooong base64 string\n\nutils.downloadFile(fileData, 'aa', 'mp4');","events":[],"rawData":null,"finished":null,"metadata":null,"changeset":"","timestamp":0,"isFetching":false,"isImported":false,"cacheKeyTtl":"","transformer":"// type your code here\n// example: return formatDataAsArray(data).filter(row => row.quantity > 20)\nreturn data","queryRunTime":null,"queryTimeout":"10000","allowedGroups":[],"enableCaching":false,"privateParams":[],"queryDisabled":"","watchedParams":[],"successMessage":"","changesetObject":"","servedFromCache":false,"errorTransformer":"// The variable 'data' allows you to reference the request's data in the transformer. \n// example: return data.find(element => element.isError)\nreturn data.error","offlineQueryType":"None","queryRefreshTime":"","runWhenPageLoads":false,"changesetIsObject":false,"enableTransformer":false,"playgroundQueryId":null,"queryThrottleTime":"750","queryTriggerDelay":"0","showFailureToaster":true,"showSuccessToaster":true,"confirmationMessage":null,"importedQueryInputs":{},"playgroundQueryUuid":"","requireConfirmation":false,"runWhenModelUpdates":false,"notificationDuration":"","queryDisabledMessage":"","requestSentTimestamp":null,"resourceNameOverride":"","resourceTypeOverride":null,"importedQueryDefaults":{},"playgroundQuerySaveId":"latest","runWhenPageLoadsDelay":"","enableErrorTransformer":false,"offlineUserQueryInputs":"","queryFailureConditions":"","updateSetValueDynamically":false,"lastReceivedFromResourceAt":null,"showLatestVersionUpdatedWarning":false,"showUpdateSetValueDynamicallyToggle":true},"container":"","createdAt":"2023-03-29T03:39:10.655Z","namespace":null,"position2":null,"updatedAt":"2023-03-29T03:39:18.497Z","resourceName":"JavascriptQuery","mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"refresh_status":{"id":"refresh_status","type":"datasource","style":null,"folder":"","screen":null,"subtype":"JavascriptQuery","tabIndex":null,"template":{"data":null,"error":null,"query":"return {\n  parser: window.activityDesc(progress.value, 'parser'),\n  assets: window.activityDesc(progress.value, 'assets'),\n  video: window.activityDesc(progress.value, 'video'),\n};\n","events":[{"type":"script","event":"success","method":"run","params":{"src":"setTimeout(() => {\n  // if (window.isCreatingVideo(progress.value)) {\n    refresh_status.trigger()  \n  // }\n}, 1000)\n"},"waitMs":"0","pluginId":"","targetId":null,"waitType":"debounce"}],"rawData":null,"finished":null,"metadata":null,"changeset":"","timestamp":0,"isFetching":false,"isImported":false,"cacheKeyTtl":"","transformer":"// type your code here\n// example: return formatDataAsArray(data).filter(row => row.quantity > 20)\nconsole.log(data);\nreturn data","queryRunTime":null,"queryTimeout":"10000","allowedGroups":[],"enableCaching":false,"privateParams":[],"queryDisabled":"","watchedParams":[],"successMessage":"","changesetObject":"","servedFromCache":false,"errorTransformer":"// The variable 'data' allows you to reference the request's data in the transformer. \n// example: return data.find(element => element.isError)\nreturn data.error","offlineQueryType":"None","queryRefreshTime":"","runWhenPageLoads":false,"changesetIsObject":false,"enableTransformer":false,"playgroundQueryId":null,"queryThrottleTime":"750","queryTriggerDelay":"0","showFailureToaster":true,"showSuccessToaster":false,"confirmationMessage":null,"importedQueryInputs":{},"playgroundQueryUuid":"","requireConfirmation":false,"runWhenModelUpdates":false,"notificationDuration":"","queryDisabledMessage":"","requestSentTimestamp":null,"resourceNameOverride":"","resourceTypeOverride":null,"importedQueryDefaults":{},"playgroundQuerySaveId":"latest","runWhenPageLoadsDelay":"","enableErrorTransformer":false,"offlineUserQueryInputs":"","queryFailureConditions":"","updateSetValueDynamically":false,"lastReceivedFromResourceAt":null,"showLatestVersionUpdatedWarning":false,"showUpdateSetValueDynamicallyToggle":true},"container":"","createdAt":"2023-03-27T06:26:01.013Z","namespace":null,"position2":null,"updatedAt":"2023-03-28T04:12:26.024Z","resourceName":"JavascriptQuery","mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"start_workflow":{"id":"start_workflow","type":"datasource","style":null,"folder":"","screen":null,"subtype":"RESTQuery","tabIndex":null,"template":{"body":"{{\n{\n  workflowType: {\n    name: 'VideoClipGen',\n  },\n  taskQueue: {\n    name: 'vcg',\n    kind: 'Normal',\n  },\n  input: {\n    payloads: [{\n      metadata: {\n        encoding: btoa('json/plain'),\n      },\n      data: btoa(JSON.stringify({\n        url: url_weixin.value,\n        prompter: 'ScenePrompter',\n        'voice_ali': sel_voice.value,\n      })),\n    }],\n  },\n  identity: 'retool',\n  requestId: uuid.v4(),\n  workflowExecutionTimeout: '600s',\n  workflowRunTimeout: '660s',\n  workflowTaskTimeout: '300s',\n  workflowIdReusePolicy: 'AllowDuplicate',\n}\n}}","data":null,"type":"POST","error":null,"query":"https://{{endpoint.value}}/temporal/api/v1/namespaces/{{ns.value}}/workflows/{{workflowID.value}}/start","events":[],"cookies":"","headers":"[{\"key\":\"Authorization\",\"value\":\"Bearer FnvtyDWk1AqB7Sord8QjcRbY670BSXBycLu281mQsvFyvjD2Tw0hFyyXSztGTflp\"},{\"key\":\"Content-Type\",\"value\":\"application/json\"}]","rawData":null,"bodyType":"raw","finished":null,"metadata":null,"changeset":"","timestamp":0,"isFetching":false,"isImported":false,"cacheKeyTtl":"","transformer":"// type your code here\n// example: return formatDataAsArray(data).filter(row => row.quantity > 20)\nreturn data","queryRunTime":null,"queryTimeout":"10000","allowedGroups":[],"enableCaching":false,"privateParams":[],"queryDisabled":"","watchedParams":[],"successMessage":"","changesetObject":"","paginationLimit":"","servedFromCache":false,"errorTransformer":"// The variable 'data' allows you to reference the request's data in the transformer. \n// example: return data.find(element => element.isError)\nreturn data.error","offlineQueryType":"None","queryRefreshTime":"","runWhenPageLoads":false,"changesetIsObject":false,"enableTransformer":false,"paginationEnabled":false,"playgroundQueryId":null,"queryThrottleTime":"750","queryTriggerDelay":"0","showFailureToaster":true,"showSuccessToaster":false,"confirmationMessage":null,"importedQueryInputs":{},"paginationDataField":"","playgroundQueryUuid":"","requireConfirmation":false,"runWhenModelUpdates":false,"notificationDuration":"","queryDisabledMessage":"","requestSentTimestamp":null,"resourceNameOverride":"","resourceTypeOverride":"","importedQueryDefaults":{},"playgroundQuerySaveId":"latest","runWhenPageLoadsDelay":"","enableErrorTransformer":false,"offlineUserQueryInputs":"","queryFailureConditions":"","paginationPaginationField":"","updateSetValueDynamically":false,"lastReceivedFromResourceAt":null,"showLatestVersionUpdatedWarning":false,"showUpdateSetValueDynamicallyToggle":true},"container":"","createdAt":"2023-03-26T08:25:41.464Z","namespace":null,"position2":null,"updatedAt":"2023-04-02T14:39:53.017Z","resourceName":"REST-WithoutResource","mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"workflow_status":{"id":"workflow_status","type":"datasource","style":null,"folder":"","screen":null,"subtype":"RESTQuery","tabIndex":null,"template":{"body":"{{\n{\n  execution: {\n    workflowId: workflowID.value,\n    runId: runID.value,\n  },\n  query: {\n    queryType: \"progress\",\n  },\n}\n}}","data":null,"type":"POST","error":null,"query":"https://{{endpoint.value}}/temporal/api/v1/namespaces/{{ns.value}}/workflows/{{workflowID.value}}/runs/{{runID.value}}/query","events":[{"type":"script","event":"success","method":"run","params":{"src":"progress.setValue(workflow_status.data);\n\nconst { output, title } = workflow_status.data;\nif (output && output !== '') {\n  const token = 'CWrhhEyQb5iQHsTa4COtjcGze0ezJuPMqKURwkTlw5vzuAHRZIy3hFKLIwk4JF58'\n  video_url.setValue(`https://${assetDomain.value}/assets/${output}?token=${token}`);\n  video_title.setValue(`##### ${title}`);\n}\n"},"waitMs":"0","pluginId":"","targetId":null,"waitType":"debounce"}],"cookies":"[{\"key\":\"_csrf\",\"value\":\"80h8AVeimhxiIbkzkSssYGPvXRvGjdee\"}]","headers":"[{\"key\":\"Authorization\",\"value\":\"Bearer FnvtyDWk1AqB7Sord8QjcRbY670BSXBycLu281mQsvFyvjD2Tw0hFyyXSztGTflp\"},{\"key\":\"Content-Type\",\"value\":\"application/json\"},{\"key\":\"X-CSRF-TOKEN\",\"value\":\"80h8AVeimhxiIbkzkSssYGPvXRvGjdee\"}]","rawData":null,"bodyType":"raw","finished":null,"metadata":null,"changeset":"","timestamp":0,"isFetching":false,"isImported":false,"cacheKeyTtl":"","transformer":"const { payloads } = data.queryResult;\nconst { metadata: { encoding }, data: encoded } = payloads[0];\n\nlet decoded = atob(encoded);\nif (atob(encoding).startsWith('json/')) {\n  decoded = JSON.parse(decoded);\n}\n\nreturn JSON.parse(decoded);\n","queryRunTime":null,"queryTimeout":"5000","allowedGroups":[],"enableCaching":false,"privateParams":[],"queryDisabled":"{{ !window.isCreatingVideo(progress.value) }}","watchedParams":["runID.value"],"successMessage":"","changesetObject":"","paginationLimit":"","servedFromCache":false,"errorTransformer":"// The variable 'data' allows you to reference the request's data in the transformer. \n// example: return data.find(element => element.isError)\nreturn data.error","offlineQueryType":"None","queryRefreshTime":"2000","runWhenPageLoads":false,"changesetIsObject":false,"enableTransformer":true,"paginationEnabled":false,"playgroundQueryId":null,"queryThrottleTime":"750","queryTriggerDelay":"0","showFailureToaster":false,"showSuccessToaster":false,"confirmationMessage":null,"importedQueryInputs":{},"paginationDataField":"","playgroundQueryUuid":"","requireConfirmation":false,"runWhenModelUpdates":false,"notificationDuration":"","queryDisabledMessage":"","requestSentTimestamp":null,"resourceNameOverride":"","resourceTypeOverride":"","importedQueryDefaults":{},"playgroundQuerySaveId":"latest","runWhenPageLoadsDelay":"","enableErrorTransformer":false,"offlineUserQueryInputs":"","queryFailureConditions":"","paginationPaginationField":"","updateSetValueDynamically":false,"lastReceivedFromResourceAt":null,"showLatestVersionUpdatedWarning":false,"showUpdateSetValueDynamicallyToggle":true},"container":"","createdAt":"2023-03-29T12:01:15.454Z","namespace":null,"position2":null,"updatedAt":"2023-04-02T14:39:58.419Z","resourceName":"REST-WithoutResource","mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null}},"version":"2.116.0","appStyles":"","createdAt":null,"appThemeId":null,"isFetching":false,"rootScreen":null,"appMaxWidth":"1080px","isMobileApp":false,"testEntities":[],"isGlobalWidget":false,"customShortcuts":[],"mobileAppSettings":{"displaySetting":{"tabletMode":false,"landscapeMode":false},"mobileOfflineModeEnabled":false,"mobileOfflineModeDelaySync":false,"mobileOfflineModeBannerMode":"default"},"customDocumentTitle":"","preloadedAppJSLinks":[],"markdownLinkBehavior":"auto","multiScreenMobileApp":false,"queryStatusVisibility":false,"instrumentationEnabled":false,"pageLoadValueOverrides":[],"preloadedAppJavaScript":"\nwindow.activityDesc = (obj, key) => {\n  if (!obj) {\n    return '';\n  }\n\n  const progress = obj[key];\n  if (progress.status === 'error') {\n    switch (progress.code) {\n      case 'UrlParserError':\n        return '无法获取文章内容';\n      case 'SummaryError':\n        return '无法生成摘要';\n      case 'TooFewImages':\n        return '文章所含图片过少(<6)';\n      case 'SummaryError':\n        return '无法生成摘要';\n      case 'AssetsMismatch':\n        return '资源不匹配';\n      case 'VideoGenError':\n        return '制作视频失败';\n      case 'VideoConcatError':\n        return '合成视频失败';\n      default:\n        return '未知错误';\n    }\n  }\n\n  const { startTime } = progress;\n  if (!startTime) {\n    return ''\n  }\n\n  const endTime = progress?.endTime ?? moment();\n  return `${Math.floor((endTime - startTime)/1000)}s`;\n}\n\nwindow.activityStatus = (obj, key) => {\n  if (!obj) {\n    return 'pending';\n  }\n  return obj[key]?.status ?? 'pending';\n}\n\nwindow.activityType = (obj, key) => {\n  switch (window.activityStatus(obj, key)) {\n    case 'running':\n      return 'warning';\n    case 'success':\n      return 'success';\n    case 'pending':\n      return 'info';\n    default:\n      return 'error';      \n  }\n}\n\nwindow.activityTitle = (obj, key, prefix) => {\n  switch (window.activityStatus(obj, key)) {\n    case 'running':\n      return prefix + '中...';\n    case 'success':\n      return prefix + '完成';\n    case 'pending':\n      return prefix + '等待中...';\n    default:\n      return prefix + '失败';\n  }\n}\n\nwindow.isCreatingVideo = (progress) => {\n  if (!progress) {\n    return false;\n  }\n\n  const { parser, assets, video } = progress;\n  if (progress.video.status === 'success') {\n    return false;\n  }\n  for (const { status } of [parser, assets, video]) {\n    if (status === 'fail' || status === 'error') {\n      return false;\n    }\n  }\n\n  return true;\n}\n","urlFragmentDefinitions":[],"experimentalPerfFeatures":{"useRuntimeV2":true,"runtimeV2OptOut":false,"serverDepGraphEnabled":false},"responsiveLayoutDisabled":false,"inAppRetoolPillAppearance":"NO_OVERRIDE","loadingIndicatorsDisabled":false,"customDocumentTitleEnabled":false,"experimentalDataTabEnabled":true,"experimentalStabilityFeatures":{"lockModelForUpdates":false}}}},{"type":"QUERY_MOVE"}],"gitSha":null,"checksum":null,"createdAt":"2023-04-02T14:53:58.388Z","updatedAt":"2023-04-02T14:53:58.388Z","pageId":1967394,"userId":127927,"branchId":null},"modules":{}}